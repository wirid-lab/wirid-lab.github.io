---
id: http
hide_title: false
title: HTTP
---

export const Highlight = ({children, color}) => ( <span style={{
      backgroundColor: color,
      borderRadius: '2px',
      color: '#fff',
      padding: '0.2rem',
    }}>{children}</span> );

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


Los únicos metodos habilitados para trabajar en la plataforma son ``GET`` y  ``POST`` para consultar y guardar datos respectivamente de cada uno de los nodos,  tener en cuenta la siguiente información al momento de implementar HTTP en el diseño de los nodos IoT


- **{URL}**: ``https://api.wiridlab.site/api/iot/devices/<apiName>``
- **{HEADERS}** : En la petición HTTP debe incluirse la cabecera ``WIRID-LAB-AUTH-TOKEN`` el string generado para consutar o guardar datos
- **{BODY}** : Para almacenar datos el cuerpo del mensaje debe ser un vector de objetos ``[{data1},{data2},{data_n}]``



Para conocer implenentaciones en HTTP dentro de la plataforma ingresar a https://github.com/wirid-lab, a continuación se mostrarán dos ejemplos utilizando la herramienta POSTMAN

## Guardar Datos

1. Ingrese la URL con metódo POST
2. Incluya el token en la cabecera **WIRID-LAB-AUTH-TOKEN** 
3. Incluya la cabecera **Content-Type**  con valor **application/json**
4. En la pestaña **body** seleccionar tipo dato **raw** e ingrese datos de ejemplo con formato vector de objetos 
5. Oprima el botón enviar
6. La respuesta de la plataforma será ``{"message": "Data Saved"}``
7. Si existe algun error para almacenar los datos , la plataforma reponderá con error 401


<div align="center" style={{margin: '20px'}}>
<img src={require('./../assets/iot/save-data-http-example-1.png').default}  align="center"/>
</div>

:::caution
Si {BODY} o {data_n} no es un vector de objetos  no se almacenará ninguna información
:::
:::info
Los datos enviados en el array de objetos serán almacenados de forma indendiente
:::
:::info
si en {data_n} no existe el dato **created** se almacenará por defecto la fecha y hora de la petición  
:::

:::info
Si la información de su nodo contiene ubicaciones por GPS , recuerde que el formato debe ser {"position": { "lat": FLOAT, "lng": FLOAT }}
:::

## Consultar datos


1. Ingrese la URL con metódo GET
2. Incluya el token en la cabecera **WIRID-LAB-AUTH-TOKEN** 
3. Incluya la cabecera **Content-Type**  con valor **application/json**
4. Oprima el botón enviar
6. La respuesta de la plataforma será un vector de objetos con los datos almacenados del nodo IoT correspondiente
7. Si existe algun error para consultar los datos , la plataforma reponderá con error 401 




<div align="center" style={{margin: '20px'}}>
<img src={require('./../assets/iot/get-data-http-example-1.png').default}  align="center"/>
</div>





